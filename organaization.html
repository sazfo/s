<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>ADA'A Health Org Chart</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leader-line/1.0.7/leader-line.min.js"></script>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f8f9fa;
      margin: 0;
      padding: 20px;
      text-align: center;
    }

    h1 {
      margin-bottom: 30px;
      font-size: 24px;
    }

    .org-chart {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .box {
      border-radius: 8px;
      padding: 10px 20px;
      margin: 10px;
      min-width: 180px;
      background-color: #1f3c5c;
      color: white;
      font-weight: bold;
    }

    .box.editable {
      background-color: #006d77;
    }

    .box.input-box {
      background-color: #ced4da;
      color: black;
      font-weight: normal;
    }

    .flex-row {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 20px;
      margin: 10px 0;
    }

    input[type="text"] {
      width: 100%;
      padding: 5px;
      border: none;
      border-radius: 5px;
      font-size: 14px;
      text-align: center;
    }

    .small-text {
      font-size: 12px;
      margin-top: 40px;
    }
    @media print {
  button {
    display: none;
  }
  body {
    background: white;
  }
}
.box {
  position: relative;
  z-index: 10; /* فوق الأسهم */
}

canvas.leader-line {
  z-index: 1 !important; /* الأسهم خلف العناصر */
}

  </style>
</head>
<body>
  <h1>ADA'A HEALTH C3 - GEN-2 ORGANIZATIONAL STRUCTURE 2024</h1>
  <button onclick="printOrgChart()" style="margin-bottom: 20px; padding: 10px 20px; font-size: 16px;">📄 طباعة الهيكل</button>

  <div class="org-chart">
    <div class="box" id="hospital">Hospital Director<br>King Saud Hospital - Uniazah</div>
    <div class="box" id="pio">PIO Hospital Lead</div>
    <div class="flex-row">
      <div class="box" id="main-agent">Main Change Agent</div>
      <div class="box" id="medical">Medical Director</div>
    </div>

    <div class="flex-row">
      <div class="box editable" id="change1">Change Agent</div>
      <div class="box editable" id="change2">Change Agent</div>
    </div>

    <div class="flex-row">
      <div class="box" id="hhc">HHC</div>
      <div class="box" id="or">OR</div>
      <div class="box" id="dc">DC</div>
      <div class="box" id="ed">ED</div>
      <div class="box" id="opd">OPD</div>
      <div class="box" id="rad">Rad</div>
      <div class="box" id="lab">Lab & Bb</div>
    </div>

    <div class="flex-row">
      <div class="box editable"><input type="text" placeholder="Domain Leader" id="dl1"></div>
      <div class="box editable"><input type="text" placeholder="Domain Leader" id="dl2"></div>
      <div class="box editable"><input type="text" placeholder="Domain Leader" id="dl3"></div>
      <div class="box editable"><input type="text" placeholder="Domain Leader" id="dl4"></div>
      <div class="box editable"><input type="text" placeholder="Domain Leader" id="dl5"></div>
      <div class="box editable"><input type="text" placeholder="Domain Leader" id="dl6"></div>
      <div class="box editable"><input type="text" placeholder="Domain Leader" id="dl7"></div>
    </div>

    <div class="flex-row">
      <div class="box input-box"><input type="text" placeholder="Data Collector" id="dc1"></div>
      <div class="box input-box"><input type="text" placeholder="Data Collector" id="dc2"></div>
      <div class="box input-box"><input type="text" placeholder="Data Collector" id="dc3"></div>
      <div class="box input-box"><input type="text" placeholder="Data Collector" id="dc4"></div>
      <div class="box input-box"><input type="text" placeholder="Data Collector" id="dc5"></div>
      <div class="box input-box"><input type="text" placeholder="Data Collector" id="dc6"></div>
      <div class="box input-box"><input type="text" placeholder="Data Collector" id="dc7"></div>
    </div>

    <div class="flex-row">
      <div class="box input-box"><input type="text" placeholder="Data Collector" id="dc8"></div>
      <div class="box input-box"><input type="text" placeholder="Data Collector" id="dc9"></div>
      <div class="box input-box"><input type="text" placeholder="Data Collector" id="dc10"></div>
    </div>

    <div class="small-text">
      <p>APPROVED BY:</p>
      <p>HOSPITAL DIRECTOR<br>SUPERVISOR OF AUTONOMOUS OPERATION PROGRAM</p>
    </div>
  </div>

  <script>
    window.addEventListener('load', () => {
      const lineStyle = {
        color: '#B0B0B0',      // رمادي فاتح
        size: 1,               // رفيع جدًا
        path: 'straight',      // مستقيم
        startPlug: 'none',     // بدون رأس بالبداية
        endPlug: 'none'        // بدون رأس بالنهاية
      };
  
      // العلاقات العلوية
      new LeaderLine(document.getElementById('hospital'), document.getElementById('pio'), lineStyle);
      new LeaderLine(document.getElementById('pio'), document.getElementById('main-agent'), lineStyle);
      new LeaderLine(document.getElementById('main-agent'), document.getElementById('change1'), lineStyle);
      new LeaderLine(document.getElementById('main-agent'), document.getElementById('change2'), lineStyle);
      new LeaderLine(document.getElementById('main-agent'), document.getElementById('medical'), lineStyle);
  
      // من Change Agent إلى الوحدات
      new LeaderLine(document.getElementById('change1'), document.getElementById('hhc'), lineStyle);
      new LeaderLine(document.getElementById('change1'), document.getElementById('or'), lineStyle);
      new LeaderLine(document.getElementById('change1'), document.getElementById('dc'), lineStyle);
  
      new LeaderLine(document.getElementById('change2'), document.getElementById('ed'), lineStyle);
      new LeaderLine(document.getElementById('change2'), document.getElementById('opd'), lineStyle);
      new LeaderLine(document.getElementById('change2'), document.getElementById('rad'), lineStyle);
      new LeaderLine(document.getElementById('change2'), document.getElementById('lab'), lineStyle);
    });
  </script>
  
<script>
    function printOrgChart() {
      // إخفاء الأسهم عند الطباعة
      document.querySelectorAll('canvas.leader-line').forEach(el => el.style.display = 'none');
  
      window.print();
  
      // إعادة إظهار الأسهم بعد الطباعة
      setTimeout(() => {
        document.querySelectorAll('canvas.leader-line').forEach(el => el.style.display = '');
      }, 1000);
    }
  </script>
  
</body>
</html>
